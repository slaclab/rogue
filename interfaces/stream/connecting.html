

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Connecting Streams &mdash; Rogue v5.2.3-42-g028ffcea documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Sending Frames" href="sending.html" />
    <link rel="prev" title="Stream Interface" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Rogue
          

          
          </a>

          
            
            
              <div class="version">
                v5.2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Interfaces</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Stream Interface</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Connecting Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="sending.html">Sending Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="receiving.html">Receiving Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="usingTcp.html">Using The TCP Bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="usingFifo.html">Using A Fifo</a></li>
<li class="toctree-l3"><a class="reference internal" href="usingFilter.html">Using A Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugStreams.html">Debugging Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="classes/index.html">Stream Interface Class Descriptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory/index.html">Memory Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logging/index.html">Logging In Rogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom_module/index.html">Creating Custom Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installing/index.html">Installing &amp; Compiling Rogue</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Rogue</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Interfaces</a> &raquo;</li>
        
          <li><a href="index.html">Stream Interface</a> &raquo;</li>
        
      <li>Connecting Streams</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/interfaces/stream/connecting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="connecting-streams">
<span id="interfaces-stream-connecting"></span><h1>Connecting Streams<a class="headerlink" href="#connecting-streams" title="Permalink to this headline">Â¶</a></h1>
<p>The stream interface is made up of a master which is the source of frame data
and a slave which is a receiver of frame data. Each master can be connected to
one or more slaves, with the first slave connected being the primary slave.  The concept of a
primary slave is important because in most cases it is the slave from which the master
will request new frames. The primary slave is also the last slave to receive data
from the master. This is an important distinction when interfacing to a slave which will
empty the frame when processing the data, such as a DMA driver in zero copy mode.</p>
<p>A stream master and slave are connected using the following command in python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyrogue</span>

<span class="n">myMaster</span> <span class="o">&gt;&gt;</span> <span class="n">mySlave</span>

<span class="c1"># A helper function can also be used</span>
<span class="n">pyrogue</span><span class="o">.</span><span class="n">streamConnect</span><span class="p">(</span><span class="n">myMaster</span><span class="p">,</span><span class="n">mySlave</span><span class="p">)</span>
</pre></div>
</div>
<p>A similiar line of code is used to connect a master and slave in c++:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">myMaster</span> <span class="o">&gt;&gt;</span> <span class="n">mySlave</span>

<span class="c1">// A helper function can also be used</span>
<span class="n">rogueStreamConnect</span><span class="p">(</span><span class="n">myMaster</span><span class="p">,</span><span class="n">mySlave</span><span class="p">)</span>
</pre></div>
</div>
<p>The above command examples attaches the primary slave to the master.</p>
<p>Additional receivers can be added to a master. This allows more than
one Slave to receive data from a Master. Each additional slave will be passed the frame in turn before
it is passed to the primary slave:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyrogue</span>

<span class="c1"># Connections can go in the opposite direction</span>
<span class="n">mySlave</span> <span class="o">&lt;&lt;</span> <span class="n">myMaster</span>
</pre></div>
</div>
<p>And in C++:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">myMaster</span> <span class="o">&gt;&gt;</span> <span class="n">mySlave</span><span class="p">;</span>
</pre></div>
</div>
<p>In some cases rogue entities can serve as both a stream Master and Slave. This is often the case when
using a network protocol such as UDP or TCP. Two dual purpose endpoints can be connected together
to create a bi-directional data stream using the following command in python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyrogue</span>

<span class="n">endPointA</span> <span class="o">==</span> <span class="n">endPointB</span>

<span class="c1"># Or using a helper function</span>
<span class="n">pyrogue</span><span class="o">.</span><span class="n">streamConnectBiDir</span><span class="p">(</span><span class="n">endPointA</span><span class="p">,</span> <span class="n">endPointB</span><span class="p">)</span>
</pre></div>
</div>
<p>This command adds endPointB as a Slave for endPointA at the same time adding endPointA as a
slave for endPointB. A similar command is available in C++:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">endPointA</span> <span class="o">==</span> <span class="n">endPointB</span><span class="p">;</span>

<span class="c1">// Or using a helper function</span>
<span class="n">rogueStreamConnectBiDir</span><span class="p">(</span><span class="n">endPointA</span><span class="p">,</span> <span class="n">endPointB</span><span class="p">)</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sending.html" class="btn btn-neutral float-right" title="Sending Frames" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Stream Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, SLAC National Accelerator Laboratory

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>