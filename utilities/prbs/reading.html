<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Receiving PRBS Frames &mdash; Rogue v5.13.0-110-g718b7a89 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PRBS Utilities" href="classes/index.html" />
    <link rel="prev" title="Generating PRBS Frames" href="writing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Rogue
          </a>
              <div class="version">
                v5.13.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installing/index.html">Installing &amp; Compiling Rogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interfaces/index.html">Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../fileio/index.html">File I/O Utilities</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">PRBS Utilities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="writing.html">Generating PRBS Frames</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Receiving PRBS Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="classes/index.html">PRBS Utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../compression/index.html">Compression Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols/index.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logging/index.html">Logging In Rogue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom_module/index.html">Creating Custom Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pydm/index.html">Using the PyDM Gui</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Rogue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Utilities</a> &raquo;</li>
          <li><a href="index.html">PRBS Utilities</a> &raquo;</li>
      <li>Receiving PRBS Frames</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/utilities/prbs/reading.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="receiving-prbs-frames">
<span id="utilities-prbs-writing"></span><h1>Receiving PRBS Frames<a class="headerlink" href="#receiving-prbs-frames" title="Permalink to this headline">ÔÉÅ</a></h1>
<p>The PRBS object can either be used in its raw form or with either the PrbsTx or PrbsRx
Rogue Device wrappers. Using the Rogue Device wrapper allows the PRBS transmitter and receiver to
be controlled and monitor in the Rogue PyDM GUI.</p>
<p>The following code block describes how to create and connect a PRBS receiver to a file writer in python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyrogue</span>
<span class="kn">import</span> <span class="nn">rogue.utilities.fileio</span>

<span class="c1"># First we create a file reader instance</span>
<span class="n">fread</span> <span class="o">=</span> <span class="n">rogue</span><span class="o">.</span><span class="n">utilities</span><span class="o">.</span><span class="n">fileio</span><span class="o">.</span><span class="n">StreamReader</span><span class="p">()</span>

<span class="c1"># Create a PRBS instance to be used as a receiver</span>
<span class="n">prbs</span> <span class="o">=</span> <span class="n">rogue</span><span class="o">.</span><span class="n">utilities</span><span class="o">.</span><span class="n">Prbs</span><span class="p">()</span>

<span class="c1"># Connect the two together</span>
<span class="n">prbs</span> <span class="o">&lt;&lt;</span> <span class="n">fread</span>

<span class="c1"># Open the file and push data to the prbs receiver</span>
<span class="n">fread</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;myFile.dat.1&quot;</span><span class="p">)</span>

<span class="c1"># Wait until reader is done</span>
<span class="n">fread</span><span class="o">.</span><span class="n">closeWait</span><span class="p">();</span>

<span class="c1"># Display the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="n">prbs</span><span class="o">.</span><span class="n">getRxCount</span><span class="p">()</span><span class="si">}</span><span class="s2"> frames&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="n">prbs</span><span class="o">.</span><span class="n">getRxErrors</span><span class="p">()</span><span class="si">}</span><span class="s2"> errors&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The following code is an example of connecting a PRBS receiver to a file reader for control under
a Rogue tree.</p>
<p>TODO python class reference</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyrogue</span>
<span class="kn">import</span> <span class="nn">pyrogue.utilities</span>
<span class="kn">import</span> <span class="nn">pyrogue.utilities.fileio</span>

<span class="c1"># First we create a file reader instance, use the python wrapper</span>
<span class="n">fread</span> <span class="o">=</span> <span class="n">pyrogue</span><span class="o">.</span><span class="n">utilities</span><span class="o">.</span><span class="n">fileio</span><span class="o">.</span><span class="n">StreamReader</span><span class="p">()</span>

<span class="c1"># Add the file reader to the Rogue tree.</span>
<span class="n">root</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fread</span><span class="p">)</span>

<span class="c1"># Create a PRBS receiver</span>
<span class="n">prbs</span> <span class="o">=</span> <span class="n">pyrogue</span><span class="o">.</span><span class="n">utilities</span><span class="o">.</span><span class="n">PrbsRx</span><span class="p">()</span>

<span class="c1"># Add the prbs receiver to the Rogue tree.</span>
<span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">prbs</span><span class="p">)</span>

<span class="c1"># Connect the receiver to the file reader</span>
<span class="n">fread</span> <span class="o">&gt;&gt;</span> <span class="n">prbs</span>
</pre></div>
</div>
<p>The following code shows how to connect a PRBS receiver to a StreamReader in c++.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;rogue/utilities/fileio/StreamReader.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;rogue/utilities/Prbs.h&gt;</span><span class="cp"></span>

<span class="c1">// First we create a file reader instance</span>
<span class="n">rogue</span><span class="o">::</span><span class="n">utilities</span><span class="o">::</span><span class="n">fileio</span><span class="o">::</span><span class="n">StreamReaderPtr</span><span class="w"> </span><span class="n">fwrite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rogue</span><span class="o">::</span><span class="n">utilities</span><span class="o">::</span><span class="n">fileio</span><span class="o">::</span><span class="n">StreamReaderPtr</span><span class="o">::</span><span class="n">create</span><span class="p">();</span><span class="w"></span>

<span class="c1">// Create a PRBS receiver</span>
<span class="n">rogue</span><span class="o">::</span><span class="n">utilities</span><span class="o">::</span><span class="n">PrbsPtr</span><span class="w"> </span><span class="n">prbs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rogue</span><span class="o">::</span><span class="n">utilities</span><span class="o">::</span><span class="n">Prbs</span><span class="o">::</span><span class="n">create</span><span class="p">();</span><span class="w"></span>

<span class="c1">// Connect prbs to file reader</span>
<span class="n">prbs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fread</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Open the data file</span>
<span class="n">fread</span><span class="o">-&gt;</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;myFile.dat.1&quot;</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Close the data file after all frames are read</span>
<span class="n">fread</span><span class="o">-&gt;</span><span class="n">closeWait</span><span class="p">();</span><span class="w"></span>

<span class="c1">// Display the results</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Got %i frames</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">prbs</span><span class="p">.</span><span class="n">getRxCount</span><span class="p">());</span><span class="w"></span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Got %i errors</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">prbs</span><span class="p">.</span><span class="n">getRxErrors</span><span class="p">());</span><span class="w"></span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="writing.html" class="btn btn-neutral float-left" title="Generating PRBS Frames" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="classes/index.html" class="btn btn-neutral float-right" title="PRBS Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, SLAC National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>